<!-- Layout for authenticated pages -->
<div class="app-container" *ngIf="showLayout$ | async; else authLayout">
  <mat-sidenav-container class="sidenav-container">
    <!-- Side Navigation -->
    <mat-sidenav 
      #sidenav 
      mode="side" 
      opened="true"
      class="sidenav"
      [fixedInViewport]="true"
      [fixedTopGap]="64">
      <app-navigation></app-navigation>
    </mat-sidenav>

    <!-- Main Content -->
    <mat-sidenav-content class="main-content">
      <!-- Header -->
      <app-header (menuToggle)="onMenuToggle()"></app-header>
      
      <!-- Router Outlet -->
      <main class="content-area">
        <router-outlet></router-outlet>
      </main>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

<!-- Layout for authentication pages -->
<ng-template #authLayout>
  <div class="auth-layout">
    <router-outlet></router-outlet>
  </div>
</ng-template>
